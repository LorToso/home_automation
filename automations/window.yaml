- id: 'sky_light_open_on_too_long'
  alias: 'Sky Light Open On Too Long'
  description: ''
  trigger:
    - platform: state
      entity_id: cover.sky_light
      to: 'opening'
      for: 00:01:00
  condition: []
  action:
    - service: cover.stop_cover
      target:
        entity_id: cover.sky_light
    - service: notify.telegram
      data:
        message: Error trying to open the window
        title: Window Error

- id: 'sky_light_close_on_too_long'
  alias: 'Sky Light Window Close On Too Long'
  description: ''
  trigger:
    - platform: state
      entity_id: cover.sky_light
      to: 'closing'
      for: 00:01:00
  condition: []
  action:
    - service: cover.stop_cover
      target:
        entity_id: cover.sky_light
    - service: notify.telegram
      data:
        message: Error trying to close the window
        title: Window Error

- id: 'monitor_sky_light_overheating'
  alias: 'Track Sky Light Overheating'
  description: ''
  trigger:
    - platform: state
      entity_id: binary_sensor.sky_light_overheating
      to: 'on'
  condition: []
  action:
    - service: notify.telegram
      data:
        message: Error window overheating/overcharging
        title: Window Error
