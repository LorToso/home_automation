- id: 'office_window_turns_off_heating'
  description: ""
  alias: Office window turns off heating
  use_blueprint:
    path: motion/window_turns_off_heating.yaml
    input:
      window: binary_sensor.office_window
      heating: climate.office
      heating_state_field: input_text.office_heating_state

- id: 'office_heating_battery_warning'
  alias: Office Heating Battery Warning
  use_blueprint:
    path: motion/track_heating_battery.yaml
    input:
      heating_name: Office
      battery_sensor: binary_sensor.office_heating_battery_state

- id: 'work_mode_sets_office_heating'
  alias: "Work Mode Sets Office Heating"
  mode: single
  trigger:
    - platform: state
      entity_id:
        - input_boolean.work_mode
      to: "on"
    - platform: state
      entity_id:
        - input_boolean.work_mode
      to: "off"
  condition:
    - condition: state
      entity_id: input_boolean.automate_heating
      state: "on"
  action:
    - choose:
        - conditions:
            - condition: state
              entity_id: input_boolean.work_mode
              state: "on"
          sequence:
            - service: tado.set_climate_timer
              target:
                entity_id: climate.office
              data:
                temperature: 22
                requested_overlay: MANUAL
        - conditions:
            - condition: state
              entity_id: input_boolean.work_mode
              state: "off"
          sequence:
            - service: climate.set_hvac_mode
              data:
                entity_id: climate.office
                hvac_mode: auto

- id: 'guest_mode_sets_office_heating'
  alias: "Guest Mode Sets Office Heating"
  mode: single
  trigger:
    - platform: state
      entity_id:
        - input_boolean.guest_mode
      to: "on"
    - platform: state
      entity_id:
        - input_boolean.guest_mode
      to: "off"
  condition:
    - condition: state
      entity_id: input_boolean.automate_heating
      state: "on"
  action:
    - choose:
        - conditions:
            - condition: state
              entity_id: input_boolean.guest_mode
              state: "on"
          sequence:
            - service: tado.set_climate_timer
              target:
                entity_id: climate.office
              data:
                temperature: 20
                requested_overlay: MANUAL
        - conditions:
            - condition: state
              entity_id: input_boolean.guest_mode
              state: "off"
          sequence:
            - service: climate.set_hvac_mode
              data:
                entity_id: climate.office
                hvac_mode: auto

