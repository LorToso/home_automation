- title: ''
  path: living-room-
  icon: mdi:sofa
  badges: []
  cards:

    # Lamps
    - type: horizontal-stack
      cards:
        - type: light
          entity: light.corner_lamp
        - type: light
          entity: light.retro_lamp
        - type: light
          entity: light.bar_lamp
        - type: light
          entity: light.couch_lamp

    - type: entities
      entities:
        - switch.fairy_light
        - switch.entrance_lamp
        - binary_sensor.living_room_window
        - binary_sensor.living_space_presence
        - binary_sensor.entrance_door
        - binary_sensor.will_it_rain
        - binary_sensor.is_living_room_air_fresh
      state_color: true

    # Scenes
    - type: horizontal-stack
      title: Living Room
      cards:
        - type: button
          tap_action:
            action: call-service
            service: scene.turn_on
            service_data: {}
            target:
              entity_id: scene.living_room_bright
          entity: scene.living_room_bright
          icon_height: 30px
          name: Hell
          icon: mdi:lightbulb-on-outline
        - type: button
          tap_action:
            action: call-service
            service: scene.turn_on
            service_data: {}
            target:
              entity_id: scene.living_room_chilled_light
          entity: scene.living_room_chilled_light
          icon_height: 30px
          name: Chillen
        - type: button
          tap_action:
            action: call-service
            service: scene.turn_on
            service_data: {}
            target:
              entity_id: scene.living_room_dark
          entity: scene.living_room_dark
          icon_height: 30px
          name: Dunkel
          icon: mdi:lightbulb
        - type: button
          tap_action:
            action: call-service
            service: scene.turn_on
            service_data: {}
            target:
              entity_id: scene.living_room_off
          entity: scene.living_room_off
          icon_height: 30px
          name: Aus
          icon: mdi:lightbulb-multiple-off-outline

    # Thermostat
    - type: custom:simple-thermostat
      entity: climate.living_room
      header: false
      layout:
        mode:
          names: true
          icons: false
          headings: false
        step: column
      control:
        - hvac

    # Speaker
    - type: custom:mini-media-player
      entity: media_player.living_room_speaker
      group: false
      artwork: cover
      source: full
      volume_stateless: false
      speaker_group:
        platform: sonos
        show_group_count: true
        entities:
          - entity_id: media_player.living_room_speaker
            name: Wohnzimmer
          - entity_id: media_player.office_speaker
            name: Büro
          - entity_id: media_player.kitchen_speaker
            name: Küche
          - entity_id: media_player.bath_room_speaker
            name: Badezimmer
      shortcuts:
        columns: 4
        buttons:
          - name: Group
            type: service
            id: script.toggle_speaker_grouping
            data:
              room: living_room

    # Living Motion Sensor
    - type: horizontal-stack
      title: Living Room
      cards:
        - type: button
          tap_action:
            action: none
          entity: binary_sensor.living_room_motion
          show_state: false
          name: Motion
          state_color: true
        - type: button
          tap_action:
            action: toggle
          entity: input_boolean.living_room_presence
          name: Presence
          show_state: false
        - type: button
          tap_action:
            action: toggle
          entity: input_boolean.living_room_presence_lock
          name: Lock
          show_state: false
        - type: entity
          show_name: false
          icon: mdi:timer
          entity: sensor.living_room_presence_timer

    # Entrance Motion Sensor
    - type: horizontal-stack
      title: Entrance
      cards:
        - type: button
          tap_action:
            action: none
          entity: binary_sensor.entrance_motion
          show_state: false
          name: Motion
          state_color: true
        - type: button
          tap_action:
            action: toggle
          entity: input_boolean.entrance_presence
          name: Presence
          show_state: false
        - type: button
          tap_action:
            action: toggle
          entity: input_boolean.entrance_presence_lock
          name: Lock
          show_state: false
        - type: entity
          show_name: false
          icon: mdi:timer
          entity: sensor.entrance_presence_timer

    # Bar Motion Sensor
    - type: horizontal-stack
      title: Dining Room
      cards:
        - type: button
          tap_action:
            action: none
          entity: binary_sensor.dining_room_motion
          show_state: false
          name: Motion
          state_color: true
        - type: button
          tap_action:
            action: toggle
          entity: input_boolean.dining_room_presence
          name: Presence
          show_state: false
        - type: button
          tap_action:
            action: toggle
          entity: input_boolean.dining_room_presence_lock
          name: Lock
          show_state: false
        - type: entity
          show_name: false
          icon: mdi:timer
          entity: sensor.dining_room_presence_timer

    # Bar Motion Sensor
    - type: horizontal-stack
      title: Bar
      cards:
        - type: button
          tap_action:
            action: none
          entity: binary_sensor.bar_motion
          show_state: false
          name: Motion
          state_color: true
        - type: button
          tap_action:
            action: toggle
          entity: input_boolean.bar_presence
          name: Presence
          show_state: false
        - type: button
          tap_action:
            action: toggle
          entity: input_boolean.bar_presence_lock
          name: Lock
          show_state: false
        - type: entity
          show_name: false
          icon: mdi:timer
          entity: sensor.bar_presence_timer

    - type: horizontal-stack
      cards:
        - type: vertical-stack
          cards:
            - type: entity
              name: Humidity
              entity: sensor.living_room_humidity
              card_mod:
                style: |
                  ha-card { color: black; background:
                  {% if states('sensor.living_room_humidity')|float < 30 %}
                    lightsalmon
                  {% elif states('sensor.living_room_humidity')|float < 40 %}
                    #FFFF99
                  {% elif states('sensor.living_room_humidity')|float > 70 %}
                    lightsalmon
                  {% elif states('sensor.living_room_humidity')|float > 60 %}
                    #FFFF99
                  {% else %}
                    lightgreen
                  {% endif %}
                  }
            - type: entity
              name: Humidity
              entity: sensor.humidifier_humidity
              card_mod:
                style: |
                  ha-card { color: black; background:
                  {% if states('sensor.humidifier_humidity')|float < 30 %}
                    lightsalmon
                  {% elif states('sensor.humidifier_humidity')|float < 40 %}
                    #FFFF99
                  {% elif states('sensor.humidifier_humidity')|float > 70 %}
                    lightsalmon
                  {% elif states('sensor.humidifier_humidity')|float > 60 %}
                    #FFFF99
                  {% else %}
                    lightgreen
                  {% endif %}
                  }
        - type: vertical-stack
          cards:
            - type: entity
              name: Temperature
              entity: sensor.living_room_temperature_rounded
              card_mod:
                style: |
                  ha-card { color: black; background:
                  {% if states('sensor.living_room_temperature')|float < 17 %}
                    lightsalmon
                  {% elif states('sensor.living_room_temperature')|float < 18.5 %}
                    #FFFF99
                  {% elif states('sensor.living_room_temperature')|float > 25 %}
                    lightsalmon
                  {% elif states('sensor.living_room_temperature')|float > 24 %}
                    #FFFF99
                  {% else %}
                    lightgreen
                  {% endif %}
                  }
            - type: entity
              name: Temperature
              entity: sensor.humidifier_temperature
              card_mod:
                style: |
                  ha-card { color: black; background:
                  {% if states('sensor.humidifier_temperature')|float < 17 %}
                    lightsalmon
                  {% elif states('sensor.humidifier_temperature')|float < 18.5 %}
                    #FFFF99
                  {% elif states('sensor.humidifier_temperature')|float > 25 %}
                    lightsalmon
                  {% elif states('sensor.humidifier_temperature')|float > 24 %}
                    #FFFF99
                  {% else %}
                    lightgreen
                  {% endif %}
                  }
        - type: entity
          name: Freshness
          icon: mdi:weather-windy
          entity: sensor.living_room_air_freshness
          card_mod:
            style: |
              ha-card { color: black; background:
              {% if states('sensor.living_room_air_freshness')|int > 16 %}
                lightsalmon
              {% elif states('sensor.living_room_air_freshness')|int > 8 %}
                #FFFF99
              {% else %}
                 lightgreen
              {% endif %}
              }

    - type: horizontal-stack
      cards:
        - type: button
          tap_action:
            action: call-service
            service: script.fully_open_sky_light
            service_data: {}
            target: {}
          show_state: true
          name: Fully Open
          icon: mdi:window-shutter-open
          entity: script.fully_open_sky_light
        - type: vertical-stack
          cards:
            - type: button
              tap_action:
                action: call-service
                service: script.toggle_open_sky_light
                service_data: {}
                target: {}
              entity: cover.sky_light
              show_state: false
              name: Open
              icon: mdi:arrow-up-thick
              show_name: false
            - type: entity
              entity: cover.sky_light
              state_color: true
              name: ' '
            - type: button
              tap_action:
                action: call-service
                service: script.toggle_close_sky_light
                service_data: {}
                target: {}
              entity: cover.sky_light
              show_state: false
              name: Close
              icon: mdi:arrow-down-thick
              show_name: false
        - type: button
          tap_action:
            action: call-service
            service: script.fully_close_sky_light
            service_data: {}
            target: {}
          show_state: true
          name: Fully Close
          icon: mdi:window-shutter
          entity: script.fully_close_sky_light

    - type: vertical-stack
      cards:
        - type: entities
          entities:
            - type: custom:slider-entity-row
              entity: humidifier.humidifier
              name: Target Humidity
              hide_state: false
              icon: mdi:water-percent
            - type: attribute
              entity: humidifier.humidifier
              name: Mode
              icon: mdi:fan
              attribute: mode
            - entity: input_boolean.humidifier_needs_refill
              name: Needs refill
          state_color: true
          title: Humidifier
        - type: horizontal-stack
          cards:
            - type: button
              tap_action:
                action: toggle
              name: On/Off
              show_state: true
              show_icon: true
              entity: humidifier.humidifier
            - type: button
              tap_action:
                action: call-service
                service: humidifier.set_mode
                service_data:
                  mode: Level1
                target:
                  entity_id: humidifier.humidifier
              name: Level1
              icon: mdi:fan-speed-1
            - type: button
              tap_action:
                action: call-service
                service: humidifier.set_mode
                service_data:
                  mode: Level2
                target:
                  entity_id: humidifier.humidifier
              name: Level2
              icon: mdi:fan-speed-2
            - type: button
              tap_action:
                action: call-service
                service: humidifier.set_mode
                service_data:
                  mode: Level3
                target:
                  entity_id: humidifier.humidifier
              name: Level3
              icon: mdi:fan-speed-3
            - type: button
              tap_action:
                action: call-service
                service: humidifier.set_mode
                service_data:
                  mode: Humidity
                target:
                  entity_id: humidifier.humidifier
              name: Target
              icon: mdi:fan

