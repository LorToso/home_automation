- icon: mdi:vacuum
  badges: []
  cards:
    - type: custom:mushroom-chips-card
      alignment: justify
      chips:
        - type: back
        - type: template
          icon: mdi:home
          tap_action:
            action: navigate
            navigation_path: /room-overview/0/
    - type: entities
      entities:
        - vacuum.roborock_s7
        - binary_sensor.roborock_s7_water_shortage
        - sensor.roborock_s7_dock_error
    - type: custom:mushroom-template-card
      primary: '{{ states("sensor.vacuum_priority_room") }}'
      secondary: >-
        Last vacuumed {{ states("sensor." + states("sensor.vacuum_priority_room") + "_vacuumed_days_ago") }} days ago
      icon: mdi:timer
      entity: sensor.vacuum_priority_room
      tap_action:
        action: none
      hold_action:
        action: none
      double_tap_action:
        action: none


    - type: conditional
      conditions:
        - entity: vacuum.roborock_s7
          state_not: "docked"
      card:
        type: button
        show_name: true
        show_icon: true
        name: Send To Base
        tap_action:
          action: call-service
          service: vacuum.return_to_base
          target:
            entity_id: vacuum.roborock_s7
        icon: mdi:robot-vacuum-off
        icon_height: 50px
    - type: conditional
      conditions:
        - entity: vacuum.roborock_s7
          state: docked
      card:
        show_name: true
        show_icon: true
        type: button
        name: Clean everything
        tap_action:
          action: call-service
          service: vacuum.start
          target:
            entity_id: vacuum.roborock_s7
          data: {}
        icon: mdi:robot-vacuum
        show_state: true
        icon_height: 50px
    - type: conditional
      conditions:
        - entity: vacuum.roborock_s7
          state: "docked"
      card:
        type: horizontal-stack
        title: Send to room
        cards:
          - type: vertical-stack
            cards:
              - type: custom:mushroom-template-card
                primary: ''
                secondary: |
                  {%- if states("sensor.bed_room_vacuumed_days_ago")|int < 1 %}
                   Last today
                  {%- else %}
                  Last {{ states("sensor.bed_room_vacuumed_days_ago")}} days ago
                  {% endif %}
                icon: mdi:bed
                layout: vertical
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                tap_action:
                  action: call-service
                  service: script.send_vacuum_to_room
                  data:
                    rooms:
                     - bed_room
                card_mod:
                  style: |
                    mushroom-shape-icon {
                        --shape-color: transparent !important;
                        --shape-color-disabled: transparent !important;
                      }
                      ha-card {
                        border: 0px;
                        padding-top: 20px !important;
                      }
                      ha-state-icon {
                        --icon-symbol-size: 60px;
                        color: #ffc107
                      }
                      mushroom-state-info {
                       --card-secondary-font-size: 10px;
                      }
              - type: custom:mushroom-template-card
                primary: ''
                secondary: |
                  {%- if states("sensor.entrance_vacuumed_days_ago")|int < 1 %}
                   Last today
                  {%- else %}
                  Last {{ states("sensor.entrance_vacuumed_days_ago")}} days ago
                  {% endif %}
                icon: mdi:door
                layout: vertical
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                tap_action:
                  action: call-service
                  service: script.send_vacuum_to_room
                  data:
                    rooms:
                     - entrance
                card_mod:
                  style: |
                    mushroom-shape-icon {
                        --shape-color: transparent !important;
                        --shape-color-disabled: transparent !important;
                      }
                      ha-card {
                        border: 0px;
                        padding-top: 20px !important;
                      }
                      ha-state-icon {
                        --icon-symbol-size: 60px;
                        color: #ffc107
                      }
                      mushroom-state-info {
                       --card-secondary-font-size: 10px;
                      }
              - type: custom:mushroom-template-card
                primary: ''
                secondary: |
                  {%- if states("sensor.kitchen_vacuumed_days_ago")|int < 1 %}
                   Last today
                  {%- else %}
                  Last {{ states("sensor.kitchen_vacuumed_days_ago")}} days ago
                  {% endif %}
                icon: hass:stove
                layout: vertical
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                tap_action:
                  action: call-service
                  service: script.send_vacuum_to_room
                  data:
                    rooms:
                     - kitchen
                card_mod:
                  style: |
                    mushroom-shape-icon {
                        --shape-color: transparent !important;
                        --shape-color-disabled: transparent !important;
                      }
                      ha-card {
                        border: 0px;
                        padding-top: 20px !important;
                      }
                      ha-state-icon {
                        --icon-symbol-size: 60px;
                        color: #ffc107
                      }
                      mushroom-state-info {
                       --card-secondary-font-size: 10px;
                      }
          - type: vertical-stack
            cards:
              - type: custom:mushroom-template-card
                primary: ''
                secondary: |
                  {%- if states("sensor.living_room_vacuumed_days_ago")|int < 1 %}
                   Last today
                  {%- else %}
                  Last {{ states("sensor.living_room_vacuumed_days_ago")}} days ago
                  {% endif %}
                icon: mdi:sofa
                layout: vertical
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                tap_action:
                  action: call-service
                  service: script.send_vacuum_to_room
                  data:
                    rooms:
                     - living_room
                card_mod:
                  style: |
                    mushroom-shape-icon {
                        --shape-color: transparent !important;
                        --shape-color-disabled: transparent !important;
                      }
                      ha-card {
                        border: 0px;
                        padding-top: 20px !important;
                      }
                      ha-state-icon {
                        --icon-symbol-size: 60px;
                        color: #ffc107
                      }
                      mushroom-state-info {
                       --card-secondary-font-size: 10px;
                      }
              - type: custom:mushroom-template-card
                primary: ''
                secondary: |
                  {%- if states("sensor.bar_vacuumed_days_ago")|int < 1 %}
                   Last today
                  {%- else %}
                  Last {{ states("sensor.bar_vacuumed_days_ago")}} days ago
                  {% endif %}
                icon: mdi:glass-mug-variant
                layout: vertical
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                tap_action:
                  action: call-service
                  service: script.send_vacuum_to_room
                  data:
                    rooms:
                     - bar
                card_mod:
                  style: |
                    mushroom-shape-icon {
                        --shape-color: transparent !important;
                        --shape-color-disabled: transparent !important;
                      }
                      ha-card {
                        border: 0px;
                        padding-top: 20px !important;
                      }
                      ha-state-icon {
                        --icon-symbol-size: 60px;
                        color: #ffc107
                      }
                      mushroom-state-info {
                       --card-secondary-font-size: 10px;
                      }
              - type: custom:mushroom-template-card
                primary: ''
                secondary: |
                  {%- if states("sensor.dining_room_vacuumed_days_ago")|int < 1 %}
                   Last today
                  {%- else %}
                  Last {{ states("sensor.dining_room_vacuumed_days_ago")}} days ago
                  {% endif %}
                icon: mdi:table-chair
                layout: vertical
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                tap_action:
                  action: call-service
                  service: script.send_vacuum_to_room
                  data:
                    rooms:
                      - dining_room
                card_mod:
                  style: |
                    mushroom-shape-icon {
                        --shape-color: transparent !important;
                        --shape-color-disabled: transparent !important;
                      }
                      ha-card {
                        border: 0px;
                        padding-top: 20px !important;
                      }
                      ha-state-icon {
                        --icon-symbol-size: 60px;
                        color: #ffc107
                      }
                      mushroom-state-info {
                       --card-secondary-font-size: 10px;
                      }
          - type: vertical-stack
            cards:
              - type: custom:mushroom-template-card
                primary: ''
                secondary: |
                  {%- if states("sensor.bath_room_vacuumed_days_ago")|int < 1 %}
                   Last today
                  {%- else %}
                  Last {{ states("sensor.bath_room_vacuumed_days_ago")}} days ago
                  {% endif %}
                icon: mdi:shower
                layout: vertical
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                tap_action:
                  action: call-service
                  service: script.send_vacuum_to_room
                  data:
                    rooms:
                     - bath_room
                card_mod:
                  style: |
                    mushroom-shape-icon {
                        --shape-color: transparent !important;
                        --shape-color-disabled: transparent !important;
                      }
                      ha-card {
                        border: 0px;
                        padding-top: 20px !important;
                      }
                      ha-state-icon {
                        --icon-symbol-size: 60px;
                        color: #ffc107
                      }
                      mushroom-state-info {
                       --card-secondary-font-size: 10px;
                      }
              - type: custom:mushroom-template-card
                primary: ''
                secondary: |
                  {%- if states("sensor.office_vacuumed_days_ago")|int < 1 %}
                   Last today
                  {%- else %}
                  Last {{ states("sensor.office_vacuumed_days_ago")}} days ago
                  {% endif %}
                icon: mdi:remote-desktop
                layout: vertical
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                tap_action:
                  action: call-service
                  service: script.send_vacuum_to_room
                  data:
                    rooms:
                     - office
                card_mod:
                  style: |
                    mushroom-shape-icon {
                        --shape-color: transparent !important;
                        --shape-color-disabled: transparent !important;
                      }
                      ha-card {
                        border: 0px;
                        padding-top: 20px !important;
                      }
                      ha-state-icon {
                        --icon-symbol-size: 60px;
                        color: #ffc107
                      }
                      mushroom-state-info {
                       --card-secondary-font-size: 10px;
                      }
              - type: custom:mushroom-template-card
                primary: ''
                secondary: |
                  {%- if states("sensor.hallway_vacuumed_days_ago")|int < 1 %}
                   Last today
                  {%- else %}
                   Last {{ states("sensor.hallway_vacuumed_days_ago")}} days ago
                  {% endif %}
                icon: mdi:floor-plan
                layout: vertical
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                tap_action:
                  action: call-service
                  service: script.send_vacuum_to_room
                  data:
                    rooms:
                     - hallway
                card_mod:
                  style: |
                    mushroom-shape-icon {
                        --shape-color: transparent !important;
                        --shape-color-disabled: transparent !important;
                      }
                      ha-card {
                        border: 0px;
                        padding-top: 20px !important;
                      }
                      ha-state-icon {
                        --icon-symbol-size: 60px;
                        color: #ffc107
                      }
                      mushroom-state-info {
                       --card-secondary-font-size: 10px;
                      }
