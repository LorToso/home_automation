living_room_increase_brightness:
  alias: Living Room Increase Brightness
  sequence:
  - choose:
    - conditions:
      - condition: state
        state: 'on'
        entity_id: light.corner_lamp
      sequence:
      - service: light.turn_on
        data:
          brightness_step: 20
        target:
          entity_id: light.corner_lamp
    default: []
  - choose:
    - conditions:
      - condition: state
        state: 'on'
        entity_id: light.retro_lamp
      sequence:
      - service: light.turn_on
        data:
          brightness_step: 20
        target:
          entity_id: light.retro_lamp
    default: []
  mode: single

living_room_decrease_brightness:
  alias: Living Room decrease Brightness
  sequence:
  - choose:
    - conditions:
      - condition: state
        state: 'on'
        entity_id: light.corner_lamp
      sequence:
      - service: light.turn_on
        data:
          brightness_step: -20
        target:
          entity_id: light.corner_lamp
    default: []
  - choose:
    - conditions:
      - condition: state
        state: 'on'
        entity_id: light.retro_lamp
      sequence:
      - service: light.turn_on
        data:
          brightness_step: -20
        target:
          entity_id: light.retro_lamp
    default: []
  mode: single

turn_on_living_room_light:
  alias: Turn Living Room Light On
  sequence:
  - choose:
    - conditions:
      - condition: state
        entity_id: input_boolean.night_mode
        state: 'on'
      sequence:
        - scene: scene.living_room_dark
    default:
      - scene: scene.living_room_bright
  mode: single
  icon: hass:lightbulb-on

# If I am no longer in the living space, turn off all other lights there
turn_off_living_room_light:
  alias: Turn off Living Room Light
  sequence:
  - choose:
    - conditions:
      - condition: state
        entity_id: binary_sensor.living_space_presence
        state: 'off'
      sequence:
        - scene: scene.living_room_off
