turn_entrance_light_on:
  alias: Turn Entrance Light on
  sequence:
  - choose:
    - conditions:
      - condition: state
        entity_id: input_boolean.night_mode
        state: 'on'
      sequence:
        - scene: scene.entrance_dark
    - conditions:
      - condition: time
        after: '00:00:00'
        before: '07:00:00'
      sequence:
        - scene: scene.entrance_medium
    - conditions:
      - condition: time
        after: '07:00:00'
        before: '23:00:00'
      sequence:
        - scene: scene.entrance_bright
    - conditions:
      - condition: time
        after: '20:00:00'
        before: '23:59:59'
      sequence:
        - scene: scene.entrance_medium
  mode: single
  icon: hass:lightbulb-on

turn_entrance_light_off:
  alias: Turn Entrance Light off
  sequence:
  - scene: scene.entrance_off
  - choose:
    - conditions:
      - condition: state
        entity_id: input_boolean.living_room_presence
        state: 'off'
      sequence:
        - service: light.turn_off
          target:
            entity_id: light.retro_lamp
